{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/header__logo.svg"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","link","cardId","handleCardClick","onCardLike","onCardDelete","owner","name","likes","userContext","useContext","isLiked","some","i","_id","onClick","type","id","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","avatar","about","map","props","key","Footer","PopupWithForm","title","submitButtonText","isOpen","onClose","children","onSubmit","ImagePopup","card","api","options","this","url","baseUrl","headers","response","ok","json","Promise","reject","statusText","fetch","then","_handleResponse","data","method","body","JSON","stringify","object","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","inputValue","useRef","current","ref","AddPlacePopup","inputPlaceName","inputPlaceLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getUser","result","catch","err","console","log","getInitialCards","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateProfileInfo","newProfile","createCard","updateProfileAvatar","newAvatar","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b2a4eddb.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({link, cardId, handleCardClick, onCardLike, onCardDelete, owner, name, likes}) {\n  const userContext = React.useContext(CurrentUserContext);\n  const isLiked = likes.some(i => i._id === userContext._id);\n\n  function handleClick() {\n    handleCardClick({name, link});\n  }\n\n  function handleLikeClick() {\n    onCardLike({cardId, likes});\n  }\n\n  function handleDeleteClick() {\n    onCardDelete({cardId});\n  }\n\n  return (\n      <div className=\"card\">\n        <img className=\"card__image\" src={link} alt={name} onClick={handleClick} />\n        {userContext._id === owner._id ? (<button type=\"button\" className=\"card__trash-button\" onClick={handleDeleteClick} ></button>) : (<></>) }\n        <p className=\"card__text\">{name}</p>\n        <button type=\"button\" className={isLiked ? 'card__like-button card__like-button_active' : 'card__like-button'} id=\"like\" onClick={handleLikeClick} ></button>\n        <p className=\"card__like-counter\">{likes.length}</p>\n      </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n  const userContext = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__img\" src={userContext.avatar} alt=\"Ваш аватар\" />\n            <div className=\"profile__overlay\" onClick={onEditAvatar}></div>\n          </div>\n          <div className=\"profile__info\">\n            <p className=\"profile__author\">{userContext.name}</p>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n            <p className=\"profile__subject\">{userContext.about}</p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"cards\">\n          {\n          cards.map(({_id, ...props}) =>\n          <Card key={_id} onCardLike={onCardLike} onCardDelete={onCardDelete} handleCardClick={onCardClick} cardId={_id} {...props} />)\n          }\n        </section>\n      </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({title, name, submitButtonText, isOpen, onClose, children, onSubmit}) {\n  return (\n    <div className={isOpen ? 'popup popup_opened': 'popup'} id={name}>\n      <form className=\"popup__container\" onSubmit={onSubmit} >\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"popup__submit-button\">{submitButtonText}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({onClose, card }) {\n  return (\n    <div className={card ? 'popup popup_opened': 'popup'} id=\"photo\">\n      <div className=\"popup__photo-container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <img className=\"popup__photo-image\" src={card ? card.link : ''} alt={card ? card.name : ''} />\n        <p className=\"popup__photo-text\">{card ? card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import {config} from './constants';\n\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _handleResponse(response){\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.statusText);\n    }\n  }\n\n  getUser() {\n    return fetch(`${this.url}/users/me`, { headers: this.headers})\n      .then(this._handleResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, { headers: this.headers})\n      .then(this._handleResponse);\n  }\n\n  updateProfileInfo(data) {\n    return fetch(`${this.url}/users/me`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.object\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  updateProfileAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  createCard(data) {\n    return fetch(`${this.url}/cards`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.object\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`,\n      {\n        method: 'DELETE',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'PUT',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse);\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'DELETE',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse);\n    }\n  }\n}\n\nconst api = new Api(config);\n\nexport default api;\n","export const config = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '76346dd7-8de1-4cc7-a3b8-f91fff5a3b7d',\n    'Content-Type': 'application/json'\n  }\n};\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      object: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n\n\n  return (\n    <PopupWithForm  title=\"Редактировать профиль\" name=\"editPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n            <input type=\"text\" value={name || ''} onChange={handleNameChange} className=\"popup__input\" id=\"name\" minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" required name=\"name\" />\n            <span className=\"popup__text-error\" id=\"name-error\"></span>\n            <input type=\"text\" value={description || ''} onChange={handleDescriptionChange} className=\"popup__input\" id=\"subject\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required name=\"object\" />\n            <span className=\"popup__text-error\" id=\"subject-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const inputValue = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputValue.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Обновить аватар\" name=\"avatarPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"url\" className=\"popup__input popup__input_type_avatar\" id=\"source\" placeholder=\"Ссылка на аватарку\" required name=\"object\" ref={inputValue} />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const inputPlaceName = React.useRef();\n  const inputPlaceLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: inputPlaceName.current.value,\n      object: inputPlaceLink.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Новое место\" name=\"addPopup\" submitButtonText=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"text\" className=\"popup__input\" id=\"place\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required name=\"name\" ref={inputPlaceName} />\n      <span className=\"popup__text-error\" id=\"place-error\"></span>\n      <input type=\"url\" className=\"popup__input\" id=\"source\" placeholder=\"Ссылка на картинку\" required name=\"object\" ref={inputPlaceLink} />\n      <span className=\"popup__text-error\" id=\"source-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUser()\n      .then((result) => {\n        setCurrentUser(result);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка запроса пользователя: ${err}`);\n      });\n    }, [])\n\n\n  React.useEffect(() => {\n     api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка запроса карточек: ${err}`);\n      });\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card.cardId, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card.cardId ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка лайка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(id) {\n    api.deleteCard(id.cardId)\n      .then(() => {\n        const newCards = cards.filter((c) => {\n          return !(c._id === id.cardId)\n        });\n        setCards(newCards);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка удаления карточки: ${err}`);\n      });\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (data) => {\n    setSelectedCard(data);\n  };\n\n  const handleUpdateUser = (data) => {\n    api.updateProfileInfo(data)\n      .then((newProfile) => {\n        setCurrentUser(newProfile);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка обновления профиля: ${err}`);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    api.updateProfileAvatar(data)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка обновления аватара: ${err}`);\n      });\n  };\n\n  const handleAddPlace = (data) => {\n    api.createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка создания карточки: ${err}`);\n      });\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <PopupWithForm  title=\"Вы уверены?\" name=\"confirmPopup\" submitButtonText=\"Да\" isOpen={false} onClose={closeAllPopups} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.c6f11019.svg\";"],"sourceRoot":""}